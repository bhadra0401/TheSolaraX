<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Subscription Plans | zeBRO</title>
    <script src="https://cdn.jsdelivr.net/npm/qrcode-generator"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<header>
    <div class="logo">zeBRO</div>
    <nav>
        <a href="homepage.html">Home</a>
        <a href="payments.html">Payments</a>
        <a href="#" id="logoutBtn">Logout</a>
    </nav>
</header>

<h1>Choose Your Plan</h1>

<div class="plans">
    <div class="plan">
        <h3>Basic</h3>
        <p>₹1599</p>
        <button onclick="showPaymentForm(1599, 'Basic')">Buy Now</button>
    </div>
    <div class="plan">
        <h3>Standard</h3>
        <p>₹599</p>
        <button onclick="showPaymentForm(599, 'Standard')">Buy Now</button>
    </div>
    <div class="plan">
        <h3>Premium</h3>
        <p>₹2199</p>
        <button onclick="showPaymentForm(2199, 'Premium')">Buy Now</button>
    </div>
</div>

<div id="payment-form" class="form-container" style="display: none;">
    <h2>Enter Codetantra Details</h2>
    <input type="text" id="codetantra-id" placeholder="Codetantra Login ID" required>
    <input type="password" id="codetantra-password" placeholder="Codetantra Password" required>
    <button onclick="generateQRCode()">Proceed to Pay</button>
</div>

<div id="qr-code-container" style="display: none; text-align: center;">
    <h3>Scan the QR Code to Pay</h3>
    <div id="qrcode"></div>
    <p>After payment, submit your proof below.</p>
</div>

<script>
    let selectedAmount = 0;

    function showPaymentForm(amount, planName) {
        selectedAmount = amount;
        document.getElementById("payment-form").style.display = "block";
    }

    function generateQRCode() {
        const codetantraId = document.getElementById("codetantra-id").value.trim();
        const codetantraPassword = document.getElementById("codetantra-password").value.trim();
        
        if (!codetantraId || !codetantraPassword) {
            alert("Please enter your Codetantra credentials.");
            return;
        }
        
        const qr = qrcode(0, 'L');
        qr.addData(`upi://pay?pa=your-upi-id@upi&pn=zeBRO&am=${selectedAmount}`);
        qr.make();
        document.getElementById("qrcode").innerHTML = qr.createImgTag();
        document.getElementById("qr-code-container").style.display = "block";
    }
</script>

</body>
</html>
